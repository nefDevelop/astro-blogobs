---
import { Picture } from "astro:assets";
import type { ImageMetadata } from "astro";

interface Props {
  profileAvatarOptimized?: ImageMetadata;
  profileAvatarDirectPath?: string;
  profileName: string;
  className: string; // Esta clase contendrá el tamaño y el redondeado
  widths: number[];
  loading?: "eager" | "lazy";
}

const { profileAvatarOptimized, profileAvatarDirectPath, profileName, className, widths, loading = "eager" } = Astro.props;
---

{profileAvatarOptimized ? (
  <Picture
    src={profileAvatarOptimized}
    alt={profileName}
    class={className}
    widths={widths}
    loading={loading}
  />
) : profileAvatarDirectPath ? (
  <img
    src={profileAvatarDirectPath}
    alt={profileName}
    class={className}
    loading={loading}
  />
) : (
  // Fallback: Muestra la inicial del nombre si no hay avatar
  <div
    class:list={[className, "flex items-center justify-center text-gray-600", className.includes("w-16") ? "text-2xl font-bold" : ""]}
  >
    {profileName.charAt(0).toUpperCase()}
  </div>
)}